import{u as M,b as H,c as $,j as e,L as S,B as U,d as z,r as l,a as R}from"./index-BAnfMb-m.js";import{H as B,N as E,S as I,a as q,b as T,c as W,d as Y}from"./Navbar-xjmNP0L7.js";import{a as b,S as G}from"./ScrollReveal-DIJ4sl5F.js";import{c as D}from"./createLucideIcon-C7dg4ryp.js";import"./input-udRnJ2sz.js";import"./shopping-bag-paFp7sNB.js";import"./trash-2-Bit0nVAW.js";import"./search-B02Y57cA.js";import"./proxy-DX2HDd6w.js";const Q=[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]],J=D("sliders-horizontal",Q),O=({product:r})=>{const{t:o,i18n:F}=M(),{addToCart:s}=H(),{toggleWishlist:a,isInWishlist:w}=$(),x=()=>r[`name_${F.language}`]||r.name,_=r.category||"Collection",p=w(r.id);return e.jsxs("div",{className:"group relative w-full",children:[e.jsxs("div",{className:"relative aspect-[3/4] overflow-hidden bg-[#F9F7F5]",children:[e.jsxs("div",{className:"absolute top-4 left-4 z-20 flex flex-col gap-2",children:[r.is_new&&e.jsx("span",{className:"bg-coffee-dark text-white text-[10px] uppercase tracking-widest px-3 py-1 font-medium",children:o("new")}),r.discount&&e.jsxs("span",{className:"bg-red-800 text-white text-[10px] uppercase tracking-widest px-3 py-1 font-medium",children:["-",r.discount,"%"]})]}),e.jsx("button",{onClick:()=>a(r),className:`absolute top-4 right-4 z-20 opacity-0 group-hover:opacity-100 transition-all duration-300 transform translate-x-4 group-hover:translate-x-0 p-2 rounded-full shadow-sm ${p?"bg-gold text-white":"bg-white/90 text-gray-600 hover:bg-gold hover:text-coffee-dark"}`,children:e.jsx(B,{size:18,fill:p?"currentColor":"none"})}),e.jsx(S,{to:`/products/${r.id}`,children:e.jsx("img",{src:r.imageUrl||"https://placehold.co/600x800/f5f5f5/333333?text=Yemeni+Product",alt:x(),loading:"lazy",className:"w-full h-full object-cover transition-transform duration-1000 group-hover:scale-110 ease-out"})}),e.jsxs("div",{className:"absolute bottom-0 left-0 w-full bg-white/95 backdrop-blur-sm py-4 translate-y-full group-hover:translate-y-0 transition-transform duration-300 ease-out border-t border-gold/20 flex flex-col items-center gap-3",children:[e.jsx(U,{onClick:()=>s(r),variant:"ghost",className:"w-3/4 bg-coffee text-white hover:bg-gold hover:text-coffee-dark uppercase tracking-widest text-xs h-10 font-medium transition-colors",children:o("add_to_cart")}),e.jsx(S,{to:`/products/${r.id}`,className:"text-[10px] uppercase tracking-wider text-gray-500 hover:text-gold border-b border-transparent hover:border-gold transition-all",children:o("view_details")})]})]}),e.jsxs("div",{className:"pt-5 text-center px-2",children:[e.jsx("p",{className:"text-[10px] uppercase tracking-widest text-gold mb-1",children:_}),e.jsx(S,{to:`/products/${r.id}`,children:e.jsx("h3",{className:"font-serif text-lg text-coffee-dark hover:text-gold transition-colors duration-300 mb-2 truncate px-2",children:x()})}),e.jsxs("div",{className:"flex items-center justify-center gap-3",children:[r.old_price&&e.jsx("span",{className:"text-sm text-gray-400 line-through decoration-gold/50 decoration-1 font-light",children:o("price_with_currency",{amount:r.old_price})}),e.jsx("span",{className:"text-base font-medium text-coffee-dark tracking-wide",children:o("price_with_currency",{amount:r.price})})]})]})]})},V=()=>e.jsxs("div",{className:"flex flex-col space-y-3",children:[e.jsx(b,{className:"h-[300px] w-full rounded-xl"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{className:"h-4 w-[250px]"}),e.jsx(b,{className:"h-4 w-[200px]"})]}),e.jsxs("div",{className:"flex justify-between items-center pt-2",children:[e.jsx(b,{className:"h-6 w-20"}),e.jsx(b,{className:"h-10 w-10 rounded-full"})]})]}),ie=({isPage:r=!0,limit:o=null,category:F=null})=>{const{t:s}=M(),[a]=z(),[w,x]=l.useState([]),[_,p]=l.useState(!0),[i,c]=l.useState("All");l.useEffect(()=>{const t=a.get("category");if(t){const n=t.charAt(0).toUpperCase()+t.slice(1);C.includes(n)?c(n):t.toLowerCase()==="honey"?c("Honey"):t.toLowerCase()==="coffee"?c("Coffee"):t.toLowerCase()==="spices"?c("Spices"):t.toLowerCase()==="gifts"&&c("Gifts")}},[a]);const P=[{id:1,name:"Sidr Honey (Royal)",name_ar:"عسل سدر ملكي",name_fr:"Miel Sidr Royal",description:"Premium Royal Sidr Honey from Do'an Valley.",price:150,category:"Honey",imageUrl:"https://placehold.co/500x700/D4AF37/FFFFFF?text=Royal+Sidr"},{id:2,name:"Yemeni Coffee (Mocha)",name_ar:"بن يمني (موكا)",name_fr:"Café Yéménite (Moka)",description:"Authentic Yemeni Mocha beans, medium roast.",price:45,category:"Coffee",imageUrl:"https://placehold.co/500x700/4B3621/FFFFFF?text=Mocha+Beans",is_new:!0},{id:3,name:"Sidr Leaves Powder",name_ar:"مسحوق أوراق السدر",name_fr:"Poudre de feuilles de Sidr",description:"Organic Sidr leaves powder for health and beauty.",price:25,category:"Spices",imageUrl:"https://placehold.co/500x700/3A5A40/FFFFFF?text=Sidr+Leaves"},{id:4,name:"White Honey",name_ar:"العسل الأبيض",name_fr:"Miel Blanc",description:"Rare white honey from the mountains of Yemen.",price:200,category:"Honey",imageUrl:"https://placehold.co/500x700/F0E68C/333333?text=White+Honey",discount:10,old_price:220},{id:5,name:"Saffron Spices",name_ar:"بهارات الزعفران",name_fr:"Épices de Safran",description:"Premium grade saffron threads.",price:85,category:"Spices",imageUrl:"https://placehold.co/500x700/E63946/FFFFFF?text=Saffron"},{id:6,name:"Silver Jewelry Box",name_ar:"صندوق مجوهرات فضي",name_fr:"Boîte à bijoux en argent",description:"Handcrafted silver box from Sana'a.",price:350,category:"Gifts",imageUrl:"https://placehold.co/500x700/C0C0C0/333333?text=Silver+Box"}],[g,N]=l.useState(a.get("min_price")||""),[f,k]=l.useState(a.get("max_price")||""),[h,j]=l.useState(a.get("sort")||"name_asc"),[m,L]=l.useState(a.get("search")||"");l.useEffect(()=>{const t=a.get("category");t&&c(t.charAt(0).toUpperCase()+t.slice(1)),N(a.get("min_price")||""),k(a.get("max_price")||""),j(a.get("sort")||"name_asc"),L(a.get("search")||"")},[a]),l.useEffect(()=>{const n=setTimeout(async()=>{p(!0);try{let u="https://api.yemenimarket.fr";u+="/api/products";const d=[];i&&i!=="All"&&d.push(`category=${encodeURIComponent(i)}`),g&&d.push(`min_price=${g}`),f&&d.push(`max_price=${f}`),h&&d.push(`sort=${h}`),m&&d.push(`search=${encodeURIComponent(m)}`),d.length>0&&(u+=`?${d.join("&")}`);let y=(await R.get(u)).data;o&&Array.isArray(y)&&(y=y.slice(0,o)),Array.isArray(y)?x(y):x([])}catch(u){console.log("API Error",u),x(P)}finally{p(!1)}},300);return()=>clearTimeout(n)},[a,i,g,f,h,o,m]);const C=["All","Honey","Coffee","Spices","Gifts"];let v=w.filter(t=>(i==="All"||t.category===i)&&(!m||t.name.toLowerCase().includes(m.toLowerCase())||t.description&&t.description.toLowerCase().includes(m.toLowerCase())));if(o&&(v=v.slice(0,o)),_)return e.jsx("div",{className:`grid grid-cols-2 ${r?"lg:grid-cols-3":"lg:grid-cols-4"} gap-x-6 gap-y-12`,children:[...Array(o||8)].map((t,n)=>e.jsx(V,{},n))});const A=()=>e.jsxs("div",{className:"flex flex-col lg:flex-row gap-12",children:[r&&e.jsxs("div",{className:"hidden lg:block w-64 flex-shrink-0 space-y-10",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-serif text-lg font-bold text-coffee-dark mb-6 pb-2 border-b border-gray-100",children:s("categories")}),e.jsx("ul",{className:"space-y-4",children:C.map(t=>e.jsx("li",{children:e.jsx("button",{onClick:()=>c(t),className:`text-sm tracking-wide transition-colors duration-200 ${i===t?"text-gold font-bold pl-2 border-l-2 border-gold":"text-gray-500 hover:text-gold"}`,children:s(t==="All"?"view_all":t.toLowerCase())})},t))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-serif text-lg font-bold text-coffee-dark mb-6 pb-2 border-b border-gray-100",children:s("price_range")}),e.jsx("div",{className:"space-y-4 px-1",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"number",placeholder:s("min_price_placeholder"),value:g,onChange:t=>N(t.target.value),className:"w-full border border-gray-200 rounded px-2 py-1 text-sm bg-gray-50 focus:ring-gold focus:border-gold"}),e.jsx("span",{className:"text-gray-400",children:"-"}),e.jsx("input",{type:"number",placeholder:s("max_price_placeholder"),value:f,onChange:t=>k(t.target.value),className:"w-full border border-gray-200 rounded px-2 py-1 text-sm bg-gray-50 focus:ring-gold focus:border-gold"})]})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-serif text-lg font-bold text-coffee-dark mb-6 pb-2 border-b border-gray-100",children:s("sort_by")}),e.jsxs("select",{value:h,onChange:t=>j(t.target.value),className:"w-full border border-gray-200 rounded px-2 py-2 text-sm bg-gray-50 text-gray-700",children:[e.jsx("option",{value:"newest",children:s("newest_arrivals")}),e.jsx("option",{value:"price_asc",children:s("price_low_to_high")}),e.jsx("option",{value:"price_desc",children:s("price_high_to_low")})]})]})]}),e.jsxs("div",{className:"flex-1",children:[r&&e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-8 gap-4",children:[e.jsx("div",{className:"lg:hidden w-full md:w-auto",children:e.jsxs(I,{children:[e.jsxs(q,{className:"w-full md:w-auto flex items-center justify-center gap-2 text-sm font-medium uppercase tracking-widest text-coffee-dark border border-gray-200 px-6 py-3 rounded-sm hover:border-gold transition",children:[e.jsx(J,{size:16})," ",s("filters")]}),e.jsxs(T,{side:"left",children:[e.jsx(W,{children:e.jsx(Y,{className:"font-serif text-2xl text-coffee-dark",children:s("filters")})}),e.jsxs("div",{className:"mt-8 space-y-8",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-4 text-gold",children:s("categories")}),e.jsx("div",{className:"flex flex-wrap gap-2",children:C.map(t=>e.jsx("button",{onClick:()=>c(t),className:`px-3 py-1 text-sm border rounded-full transition-colors ${i===t?"bg-coffee-dark text-white border-coffee-dark":"bg-white text-gray-500 border-gray-200"}`,children:s(t==="All"?"view_all":t.toLowerCase())},t))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-4 text-gold",children:s("price_range")}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"number",placeholder:"Min",value:g,onChange:t=>N(t.target.value),className:"w-full border border-gray-200 rounded px-3 py-2 text-sm"}),e.jsx("span",{className:"text-gray-400",children:"-"}),e.jsx("input",{type:"number",placeholder:"Max",value:f,onChange:t=>k(t.target.value),className:"w-full border border-gray-200 rounded px-3 py-2 text-sm"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-4 text-gold",children:s("sort_by")}),e.jsxs("select",{value:h,onChange:t=>j(t.target.value),className:"w-full border border-gray-200 rounded px-3 py-2 text-sm bg-white",children:[e.jsx("option",{value:"newest",children:s("newest_arrivals")}),e.jsx("option",{value:"price_asc",children:s("price_low_to_high")}),e.jsx("option",{value:"price_desc",children:s("price_high_to_low")})]})]})]})]})]})}),e.jsxs("div",{className:"hidden lg:flex items-center gap-4 ml-auto",children:[e.jsx("span",{className:"text-sm text-gray-500",children:s("showing_results",{count:v.length})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-500",children:[s("sort"),":"]}),e.jsxs("select",{value:h,onChange:t=>j(t.target.value),className:"border-none bg-transparent text-sm font-bold text-coffee-dark focus:ring-0 cursor-pointer hover:text-gold",children:[e.jsx("option",{value:"newest",children:s("featured")}),e.jsx("option",{value:"price_asc",children:s("price_low_to_high")}),e.jsx("option",{value:"price_desc",children:s("price_high_to_low")})]})]})]})]}),e.jsx("div",{className:`grid grid-cols-2 ${r?"lg:grid-cols-3":"lg:grid-cols-4"} gap-x-6 gap-y-12`,children:v.map((t,n)=>e.jsx(G,{delay:n*.05,width:"100%",children:e.jsx(O,{product:t})},t.id))}),r&&e.jsx("div",{className:"mt-20 text-center",children:e.jsx("button",{className:"text-xs uppercase tracking-[0.2em] text-coffee-dark hover:text-gold border-b border-coffee-dark hover:border-gold pb-1 transition-all duration-300",children:s("load_more")})})]})]});return r?e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx(E,{}),e.jsxs("div",{className:"bg-[#1A1A1A] pt-32 pb-16 md:pt-40 md:pb-24 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 opacity-20 bg-[url('https://www.transparenttextures.com/patterns/arabesque.png')]"}),e.jsxs("div",{className:"container mx-auto px-4 text-center relative z-10",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-serif font-bold text-gold mb-4 tracking-tight",children:s("our_collections")}),e.jsx("p",{className:"text-gray-400 font-light max-w-2xl mx-auto text-lg",children:s("collections_desc")})]})]}),e.jsx("div",{className:"container mx-auto px-4 py-12",children:e.jsx(A,{})})]}):e.jsx(A,{})};export{ie as default};
