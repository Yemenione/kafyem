import{j as e,u as X,e as _e,H as Z,R as A,f as z,g as W,r as i,h as ee,i as Y,k as Re,l as Ie,b as Te,B as $,a as M,t as L}from"./index-CXRzGYYB.js";import{e as q,u as te,P as E,f as k,g as se,h as Ae,i as Ee,N as Q,M as Pe,H as Me}from"./Navbar-BQicr_yf.js";import{P as De}from"./PageTransition-ClIsLNhX.js";import{S as G,a as F}from"./ScrollReveal-CVKu79c1.js";import{T as Oe,S as U}from"./truck-BufzetcO.js";import{S as $e}from"./shield-check-DGnI78RV.js";import{R as Le}from"./refresh-cw-DL2gJhvC.js";import{c as Ge}from"./createLucideIcon-DYHEWQHk.js";import{A as Ue}from"./arrow-left-DWrRUi_y.js";import{P as He}from"./trash-2-BPVosxM9.js";import"./input-DmEUPcbP.js";import"./shopping-bag-BIvf1kpX.js";import"./search-ghY-3tdw.js";import"./proxy-CWCWv-69.js";const ze=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Ve=Ge("award",ze),Be=({story:t,origin:r,artisan:s})=>!t&&!r?null:e.jsx("section",{className:"py-24 bg-cream overflow-hidden",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-12 mb-20",children:[e.jsx("div",{className:"w-full md:w-1/2 relative",children:e.jsxs(G,{children:[e.jsx("div",{className:"aspect-[4/3] rounded-2xl overflow-hidden shadow-elevated",children:e.jsx("img",{src:r?.image||"/images/yemen-landscape.jpg",alt:r?.region||"Yemen landscape",className:"w-full h-full object-cover hover:scale-105 transition-transform duration-700"})}),e.jsx("div",{className:"absolute -bottom-6 -right-6 w-32 h-32 bg-gold/10 rounded-full blur-2xl -z-10"})]})}),e.jsx("div",{className:"w-full md:w-1/2",children:e.jsxs(G,{delay:.2,children:[e.jsx("span",{className:"text-gold font-serif italic text-lg mb-2 block",children:"The Origin"}),e.jsx("h2",{className:"text-4xl md:text-5xl font-serif text-coffee mb-6 leading-tight",children:r?.title||"From the High Mountains of Yemen"}),e.jsx("p",{className:"text-coffee-light/80 text-lg leading-relaxed mb-6",children:t||"Our products are sourced directly from ancient terraces where tradition has been preserved for centuries. Every harvest tells a story of resilience, dedication, and the rich soil of Yemen."}),r?.altitude&&e.jsxs("div",{className:"flex items-center gap-4 text-coffee font-medium",children:[e.jsx("span",{className:"w-12 h-[1px] bg-gold"}),e.jsxs("span",{children:["Grown at ",r.altitude]})]})]})})]}),s&&e.jsx(G,{children:e.jsx("div",{className:"bg-white p-8 md:p-12 rounded-2xl shadow-soft border border-gold/10 relative mt-12",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[e.jsx("div",{className:"w-24 h-24 md:w-32 md:h-32 rounded-full overflow-hidden border-4 border-cream shadow-md flex-shrink-0",children:e.jsx("img",{src:s.image||"/images/artisan-placeholder.jpg",alt:s.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-2xl font-serif text-coffee mb-2",children:["Meet the Artisan: ",s.name]}),e.jsxs("p",{className:"text-coffee-light italic",children:['"',s.quote,'"']})]})]})})})]})}),Ke=({variant:t="grid"})=>{const{t:r}=X(),s=[{icon:Oe,title:r("global_delivery"),desc:r("global_delivery_desc","Fast shipping to 150+ countries")},{icon:$e,title:r("authentic_guarantee"),desc:r("authentic_desc","100% Verified Yemeni Origin")},{icon:Le,title:r("easy_returns"),desc:r("returns_desc","30-day money back guarantee")},{icon:Ve,title:r("premium_quality"),desc:r("premium_desc","Certified Grade A products")}];return t==="compact"?e.jsx("div",{className:"flex flex-wrap gap-4 mt-6 p-4 bg-gray-50 rounded-lg border border-gray-100",children:s.slice(0,3).map((o,l)=>e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[e.jsx(o.icon,{className:"w-4 h-4 text-gold"}),e.jsx("span",{className:"font-medium",children:o.title})]},l))}):t==="list"?e.jsx("div",{className:"space-y-4",children:s.map((o,l)=>e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-2 bg-gold/10 rounded-full text-gold",children:e.jsx(o.icon,{size:20})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-coffee-dark text-sm",children:o.title}),e.jsx("p",{className:"text-xs text-gray-500",children:o.desc})]})]},l))}):e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 py-8 border-t border-b border-gray-100 my-8",children:s.map((o,l)=>e.jsxs("div",{className:"text-center group",children:[e.jsx("div",{className:"w-12 h-12 mx-auto bg-gray-50 rounded-full flex items-center justify-center text-gold mb-3 group-hover:bg-gold group-hover:text-white transition-colors duration-300",children:e.jsx(o.icon,{size:24,strokeWidth:1.5})}),e.jsx("h4",{className:"font-serif font-bold text-coffee-dark text-sm mb-1",children:o.title}),e.jsx("p",{className:"text-xs text-gray-400",children:o.desc})]},l))})},Ye=({title:t="Yemeni Market - Authentic Products",description:r="Discover the finest authentic Yemeni products. Honey, coffee, and more directly from the source.",image:s="/logo.png",type:o="website"})=>{const l=_e(),a=window.location.origin+l.pathname,d=`${t} | Yemeni Market`;return e.jsxs(Z,{children:[e.jsx("title",{children:d}),e.jsx("meta",{name:"description",content:r}),e.jsx("link",{rel:"canonical",href:a}),e.jsx("meta",{property:"og:type",content:o}),e.jsx("meta",{property:"og:title",content:d}),e.jsx("meta",{property:"og:description",content:r}),e.jsx("meta",{property:"og:image",content:s}),e.jsx("meta",{property:"og:url",content:a}),e.jsx("meta",{property:"og:site_name",content:"Yemeni Market"}),e.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),e.jsx("meta",{name:"twitter:title",content:d}),e.jsx("meta",{name:"twitter:description",content:r}),e.jsx("meta",{name:"twitter:image",content:s})]})},qe=({product:t})=>{if(!t)return null;const r={"@context":"https://schema.org/","@type":"Product",name:t.name,image:t.images||[],description:t.description,sku:t.id,brand:{"@type":"Brand",name:"Yemeni Market"},offers:{"@type":"Offer",url:window.location.href,priceCurrency:"USD",price:t.price,availability:t.stock>0?"https://schema.org/InStock":"https://schema.org/OutOfStock",itemCondition:"https://schema.org/NewCondition"}};return e.jsx(Z,{children:e.jsx("script",{type:"application/ld+json",children:JSON.stringify(r)})})};function Je(t){const r=t+"CollectionProvider",[s,o]=q(r),[l,a]=s(r,{collectionRef:{current:null},itemMap:new Map}),d=g=>{const{scope:m,children:p}=g,y=A.useRef(null),h=A.useRef(new Map).current;return e.jsx(l,{scope:m,itemMap:h,collectionRef:y,children:p})};d.displayName=r;const f=t+"CollectionSlot",j=W(f),x=A.forwardRef((g,m)=>{const{scope:p,children:y}=g,h=a(f,p),v=z(m,h.collectionRef);return e.jsx(j,{ref:v,children:y})});x.displayName=f;const c=t+"CollectionItemSlot",u="data-radix-collection-item",b=W(c),w=A.forwardRef((g,m)=>{const{scope:p,children:y,...h}=g,v=A.useRef(null),_=z(m,v),S=a(c,p);return A.useEffect(()=>(S.itemMap.set(v,{ref:v,...h}),()=>{S.itemMap.delete(v)})),e.jsx(b,{[u]:"",ref:_,children:y})});w.displayName=c;function C(g){const m=a(t+"CollectionConsumer",g);return A.useCallback(()=>{const y=m.collectionRef.current;if(!y)return[];const h=Array.from(y.querySelectorAll(`[${u}]`));return Array.from(m.itemMap.values()).sort((S,I)=>h.indexOf(S.ref.current)-h.indexOf(I.ref.current))},[m.collectionRef,m.itemMap])}return[{Provider:d,Slot:x,ItemSlot:w},C,o]}var We=ee[" useId ".trim().toString()]||(()=>{}),Qe=0;function re(t){const[r,s]=i.useState(We());return te(()=>{s(o=>o??String(Qe++))},[t]),t||(r?`radix-${r}`:"")}var Xe=ee[" useInsertionEffect ".trim().toString()]||te;function oe({prop:t,defaultProp:r,onChange:s=()=>{},caller:o}){const[l,a,d]=Ze({defaultProp:r,onChange:s}),f=t!==void 0,j=f?t:l;{const c=i.useRef(t!==void 0);i.useEffect(()=>{const u=c.current;u!==f&&console.warn(`${o} is changing from ${u?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),c.current=f},[f,o])}const x=i.useCallback(c=>{if(f){const u=et(c)?c(t):c;u!==t&&d.current?.(u)}else a(c)},[f,t,a,d]);return[j,x]}function Ze({defaultProp:t,onChange:r}){const[s,o]=i.useState(t),l=i.useRef(s),a=i.useRef(r);return Xe(()=>{a.current=r},[r]),i.useEffect(()=>{l.current!==s&&(a.current?.(s),l.current=s)},[s,l]),[s,o,a]}function et(t){return typeof t=="function"}var H="rovingFocusGroup.onEntryFocus",tt={bubbles:!1,cancelable:!0},P="RovingFocusGroup",[V,ae,st]=Je(P),[rt,ne]=q(P,[st]),[ot,at]=rt(P),ie=i.forwardRef((t,r)=>e.jsx(V.Provider,{scope:t.__scopeRovingFocusGroup,children:e.jsx(V.Slot,{scope:t.__scopeRovingFocusGroup,children:e.jsx(nt,{...t,ref:r})})}));ie.displayName=P;var nt=i.forwardRef((t,r)=>{const{__scopeRovingFocusGroup:s,orientation:o,loop:l=!1,dir:a,currentTabStopId:d,defaultCurrentTabStopId:f,onCurrentTabStopIdChange:j,onEntryFocus:x,preventScrollOnEntryFocus:c=!1,...u}=t,b=i.useRef(null),w=z(r,b),C=se(a),[g,m]=oe({prop:d,defaultProp:f??null,onChange:j,caller:P}),[p,y]=i.useState(!1),h=Ae(x),v=ae(s),_=i.useRef(!1),[S,I]=i.useState(0);return i.useEffect(()=>{const n=b.current;if(n)return n.addEventListener(H,h),()=>n.removeEventListener(H,h)},[h]),e.jsx(ot,{scope:s,orientation:o,dir:C,loop:l,currentTabStopId:g,onItemFocus:i.useCallback(n=>m(n),[m]),onItemShiftTab:i.useCallback(()=>y(!0),[]),onFocusableItemAdd:i.useCallback(()=>I(n=>n+1),[]),onFocusableItemRemove:i.useCallback(()=>I(n=>n-1),[]),children:e.jsx(E.div,{tabIndex:p||S===0?-1:0,"data-orientation":o,...u,ref:w,style:{outline:"none",...t.style},onMouseDown:k(t.onMouseDown,()=>{_.current=!0}),onFocus:k(t.onFocus,n=>{const N=!_.current;if(n.target===n.currentTarget&&N&&!p){const R=new CustomEvent(H,tt);if(n.currentTarget.dispatchEvent(R),!R.defaultPrevented){const O=v().filter(T=>T.focusable),Ce=O.find(T=>T.active),Se=O.find(T=>T.id===g),ke=[Ce,Se,...O].filter(Boolean).map(T=>T.ref.current);de(ke,c)}}_.current=!1}),onBlur:k(t.onBlur,()=>y(!1))})})}),ce="RovingFocusGroupItem",le=i.forwardRef((t,r)=>{const{__scopeRovingFocusGroup:s,focusable:o=!0,active:l=!1,tabStopId:a,children:d,...f}=t,j=re(),x=a||j,c=at(ce,s),u=c.currentTabStopId===x,b=ae(s),{onFocusableItemAdd:w,onFocusableItemRemove:C,currentTabStopId:g}=c;return i.useEffect(()=>{if(o)return w(),()=>C()},[o,w,C]),e.jsx(V.ItemSlot,{scope:s,id:x,focusable:o,active:l,children:e.jsx(E.span,{tabIndex:u?0:-1,"data-orientation":c.orientation,...f,ref:r,onMouseDown:k(t.onMouseDown,m=>{o?c.onItemFocus(x):m.preventDefault()}),onFocus:k(t.onFocus,()=>c.onItemFocus(x)),onKeyDown:k(t.onKeyDown,m=>{if(m.key==="Tab"&&m.shiftKey){c.onItemShiftTab();return}if(m.target!==m.currentTarget)return;const p=lt(m,c.orientation,c.dir);if(p!==void 0){if(m.metaKey||m.ctrlKey||m.altKey||m.shiftKey)return;m.preventDefault();let h=b().filter(v=>v.focusable).map(v=>v.ref.current);if(p==="last")h.reverse();else if(p==="prev"||p==="next"){p==="prev"&&h.reverse();const v=h.indexOf(m.currentTarget);h=c.loop?dt(h,v+1):h.slice(v+1)}setTimeout(()=>de(h))}}),children:typeof d=="function"?d({isCurrentTabStop:u,hasTabStop:g!=null}):d})})});le.displayName=ce;var it={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ct(t,r){return r!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function lt(t,r,s){const o=ct(t.key,s);if(!(r==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(r==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return it[o]}function de(t,r=!1){const s=document.activeElement;for(const o of t)if(o===s||(o.focus({preventScroll:r}),document.activeElement!==s))return}function dt(t,r){return t.map((s,o)=>t[(r+o)%t.length])}var ut=ie,mt=le,D="Tabs",[ft]=q(D,[ne]),ue=ne(),[xt,J]=ft(D),me=i.forwardRef((t,r)=>{const{__scopeTabs:s,value:o,onValueChange:l,defaultValue:a,orientation:d="horizontal",dir:f,activationMode:j="automatic",...x}=t,c=se(f),[u,b]=oe({prop:o,onChange:l,defaultProp:a??"",caller:D});return e.jsx(xt,{scope:s,baseId:re(),value:u,onValueChange:b,orientation:d,dir:c,activationMode:j,children:e.jsx(E.div,{dir:c,"data-orientation":d,...x,ref:r})})});me.displayName=D;var fe="TabsList",xe=i.forwardRef((t,r)=>{const{__scopeTabs:s,loop:o=!0,...l}=t,a=J(fe,s),d=ue(s);return e.jsx(ut,{asChild:!0,...d,orientation:a.orientation,dir:a.dir,loop:o,children:e.jsx(E.div,{role:"tablist","aria-orientation":a.orientation,...l,ref:r})})});xe.displayName=fe;var he="TabsTrigger",ge=i.forwardRef((t,r)=>{const{__scopeTabs:s,value:o,disabled:l=!1,...a}=t,d=J(he,s),f=ue(s),j=be(d.baseId,o),x=je(d.baseId,o),c=o===d.value;return e.jsx(mt,{asChild:!0,...f,focusable:!l,active:c,children:e.jsx(E.button,{type:"button",role:"tab","aria-selected":c,"aria-controls":x,"data-state":c?"active":"inactive","data-disabled":l?"":void 0,disabled:l,id:j,...a,ref:r,onMouseDown:k(t.onMouseDown,u=>{!l&&u.button===0&&u.ctrlKey===!1?d.onValueChange(o):u.preventDefault()}),onKeyDown:k(t.onKeyDown,u=>{[" ","Enter"].includes(u.key)&&d.onValueChange(o)}),onFocus:k(t.onFocus,()=>{const u=d.activationMode!=="manual";!c&&!l&&u&&d.onValueChange(o)})})})});ge.displayName=he;var pe="TabsContent",ve=i.forwardRef((t,r)=>{const{__scopeTabs:s,value:o,forceMount:l,children:a,...d}=t,f=J(pe,s),j=be(f.baseId,o),x=je(f.baseId,o),c=o===f.value,u=i.useRef(c);return i.useEffect(()=>{const b=requestAnimationFrame(()=>u.current=!1);return()=>cancelAnimationFrame(b)},[]),e.jsx(Ee,{present:l||c,children:({present:b})=>e.jsx(E.div,{"data-state":c?"active":"inactive","data-orientation":f.orientation,role:"tabpanel","aria-labelledby":j,hidden:!b,id:x,tabIndex:0,...d,ref:r,style:{...t.style,animationDuration:u.current?"0s":void 0},children:b&&a})})});ve.displayName=pe;function be(t,r){return`${t}-trigger-${r}`}function je(t,r){return`${t}-content-${r}`}var ht=me,we=xe,ye=ge,Ne=ve;const gt=ht,Fe=i.forwardRef(({className:t,...r},s)=>e.jsx(we,{ref:s,className:Y("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...r}));Fe.displayName=we.displayName;const B=i.forwardRef(({className:t,...r},s)=>e.jsx(ye,{ref:s,className:Y("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...r}));B.displayName=ye.displayName;const K=i.forwardRef(({className:t,...r},s)=>e.jsx(Ne,{ref:s,className:Y("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...r}));K.displayName=Ne.displayName;const At=()=>{const{id:t}=Re(),r=Ie(),{t:s,i18n:o}=X(),{addToCart:l}=Te(),[a,d]=i.useState(null),[f,j]=i.useState(!0),[x,c]=i.useState(1),[u,b]=i.useState(null),[w,C]=i.useState([]),[g,m]=i.useState({rating:5,comment:""}),[p,y]=i.useState(!1),h="https://api.yemenimarket.fr/";i.useEffect(()=>{(async()=>{try{const N=await M.get(`${h}/api/products/${t}/reviews`);C(N.data)}catch(N){console.error("Error fetching reviews",N)}})()},[t]);const v=async()=>{if(!g.comment)return L.error(s("please_add_comment"));y(!0);try{const n=localStorage.getItem("token");await M.post(`http://localhost:5000/api/products/${t}/reviews`,g,{headers:{Authorization:`Bearer ${n}`}}),m({rating:5,comment:""}),L.success(s("review_submitted"));const N=await M.get(`http://localhost:5000/api/products/${t}/reviews`);C(N.data)}catch(n){console.error("Error submitting review",n),L.error(s("failed_submit"))}finally{y(!1)}};i.useEffect(()=>{(async()=>{try{const N=await M.get(`http://localhost:5000/api/products/${t}`);d(N.data)}catch{console.log("Using fallback mock data"),d({id:t,name:"Royal Sidr Honey",name_ar:"عسل سدر ملكي",description:"Harvested from the remote Do'an valley, this Royal Sidr Honey is known for its exquisite taste and potent health benefits. A rare delicacy reserved for the connoisseur, offering rich caramel notes and a smooth, golden texture.",price:150,currency:"USD",stock_quantity:10,imageUrl:"https://placehold.co/800x1000/D4AF37/FFFFFF?text=Royal+Sidr+Honey",images:["https://placehold.co/800x1000/D4AF37/FFFFFF?text=Side+View","https://placehold.co/800x1000/4B3621/FFFFFF?text=Texture","https://placehold.co/800x1000/F5F5F5/333333?text=Packaging"],variants:[{id:101,name:"250g Jar",price:85},{id:102,name:"500g Jar",price:150},{id:103,name:"1kg Premium Box",price:280}]})}finally{j(!1)}})()},[t]);const _=()=>{l(a,x,u)};if(f)return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx(Q,{}),e.jsx("div",{className:"container mx-auto px-4 pt-32 pb-20",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16",children:[e.jsx(F,{className:"aspect-[4/5] w-full rounded-lg"}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(F,{className:"h-4 w-24"}),e.jsx(F,{className:"h-12 w-3/4"}),e.jsx(F,{className:"h-8 w-1/4"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{className:"h-4 w-full"}),e.jsx(F,{className:"h-4 w-full"}),e.jsx(F,{className:"h-4 w-2/3"})]}),e.jsx(F,{className:"h-20 w-full"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(F,{className:"h-14 w-1/4"}),e.jsx(F,{className:"h-14 flex-1"})]})]})]})})]});if(!a)return e.jsx("div",{className:"h-screen flex items-center justify-center text-red-500",children:s("product_not_found")});const S=u?u.price:a.price,I={origin:{title:`From the peaks of ${a.category==="coffee"?"Haraz":"Doan"}`,image:a.category==="coffee"?"https://placehold.co/1200x800/4B3621/FFFFFF?text=Haraz+Mountain+Coffee+Farm":"https://placehold.co/1200x800/D4AF37/FFFFFF?text=Doan+Valley+Honey",altitude:"2,500m"},artisan:{name:"Ahmed Al-Jaberi",quote:"We don't just grow coffee; we preserve a thousand years of history.",image:"https://placehold.co/400x400/2C1E14/FFFFFF?text=Farmer+Ahmed"}};return e.jsxs(De,{children:[e.jsx(Ye,{title:a.name,description:a.description?.substring(0,160),image:a.imageUrl,type:"product"}),e.jsx(qe,{product:{...a,images:[a.imageUrl],id:a.id,stock:a.stock_quantity||10}}),e.jsxs("div",{className:"min-h-screen bg-white font-sans",children:[e.jsx(Q,{}),e.jsx("div",{className:"container mx-auto px-4 py-6",children:e.jsxs("button",{onClick:()=>r(-1),className:"flex items-center text-gray-400 hover:text-gold transition-colors text-sm uppercase tracking-widest",children:[e.jsx(Ue,{className:`w-4 h-4 ${o.language==="ar"?"ml-2 rotate-180":"mr-2"}`}),s("back_to_shop")]})}),e.jsxs("main",{className:"container mx-auto px-4 pb-20",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row gap-16 mb-24",children:[e.jsxs("div",{className:"lg:w-3/5 space-y-4",children:[e.jsxs("div",{className:"bg-[#F9F7F5] w-full aspect-[4/5] rounded-2xl overflow-hidden relative group shadow-soft",children:[e.jsx("img",{src:a.imageUrl,alt:a.name,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105 cursor-zoom-in"}),e.jsx("div",{className:"absolute top-4 left-4",children:a.stock_quantity<5&&e.jsx("span",{className:"bg-red-500 text-white text-[10px] font-bold px-3 py-1 rounded-full uppercase tracking-wider",children:"Low Stock"})})]}),e.jsx("div",{className:"grid grid-cols-3 gap-4",children:(Array.isArray(a.images)?a.images:[]).map((n,N)=>e.jsx("div",{className:"aspect-square bg-[#F9F7F5] rounded-lg overflow-hidden cursor-pointer hover:opacity-80 transition hover:shadow-md",children:e.jsx("img",{src:n,alt:"detail",className:"w-full h-full object-cover"})},N))})]}),e.jsxs("div",{className:"lg:w-2/5 flex flex-col pt-4",children:[e.jsxs("div",{className:"border-b border-gray-100 pb-6 mb-8",children:[e.jsx("h1",{className:"text-4xl lg:text-5xl font-serif font-bold text-coffee-dark mb-4 leading-tight",children:o.language==="ar"?a.name_ar||a.name:o.language==="fr"&&a.name_fr||a.name}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("span",{className:"text-3xl font-light text-coffee-dark",children:s("price_with_currency",{amount:S})}),e.jsxs("div",{className:"flex items-center text-gold bg-gold/5 px-2 py-1 rounded-md",children:[[1,2,3,4,5].map(n=>e.jsx(U,{size:14,fill:n<=Math.round(w.reduce((N,R)=>N+R.rating,0)/(w.length||1))?"currentColor":"none"},n)),e.jsxs("span",{className:"text-coffee-light text-xs ml-2 tracking-wide font-medium",children:[w.length," ",s("reviews_count")]})]})]}),e.jsx("p",{className:"text-gray-600 leading-relaxed font-light text-lg",children:a.description})]}),a.variants&&e.jsxs("div",{className:"mb-8",children:[e.jsx("span",{className:"block text-xs uppercase tracking-widest text-gray-900 font-bold mb-3",children:s("select_size")}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.variants.map(n=>e.jsx("button",{onClick:()=>b(n),className:`px-6 py-3 border text-sm transition-all duration-200 min-w-[100px] ${u?.id===n.id?"border-gold bg-gold text-white shadow-md":"border-gray-200 text-gray-600 hover:border-gold/50"}`,children:e.jsx("span",{className:"block font-medium",children:n.name})},n.id)),e.jsx("button",{onClick:()=>b(null),className:`px-6 py-3 border text-sm transition-all duration-200 min-w-[100px] ${u?"border-gray-200 text-gray-600 hover:border-gold/50":"border-gold bg-gold text-white shadow-md"}`,children:e.jsx("span",{className:"block font-medium",children:s("standard")})})]})]}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex items-center border border-gray-200 w-32 justify-between px-4 h-14 rounded-lg",children:[e.jsx("button",{onClick:()=>c(Math.max(1,x-1)),className:"text-gray-400 hover:text-black",children:e.jsx(Pe,{size:16})}),e.jsx("span",{className:"font-medium text-lg text-coffee",children:x}),e.jsx("button",{onClick:()=>c(x+1),className:"text-gray-400 hover:text-black",children:e.jsx(He,{size:16})})]}),e.jsxs($,{onClick:_,className:"flex-1 h-14 bg-coffee-dark hover:bg-gold text-white uppercase tracking-[0.15em] font-bold text-sm transition-all duration-300 shadow-lg hover:shadow-xl rounded-lg",children:[s("add_to_cart")," - ",s("price_with_currency",{amount:(S*x).toFixed(2)})]}),e.jsx("button",{className:"h-14 w-14 border border-gray-200 rounded-lg flex items-center justify-center hover:border-gold hover:text-gold transition-colors",children:e.jsx(Me,{className:"w-6 h-6"})})]})}),e.jsx(Ke,{variant:"compact"})]})]}),e.jsx(Be,{story:a.description,origin:I.origin,artisan:I.artisan}),e.jsx("div",{className:"mt-24 max-w-4xl mx-auto",children:e.jsxs(gt,{defaultValue:"reviews",className:"w-full",children:[e.jsxs(Fe,{className:"w-full justify-center border-b border-gray-200 rounded-none h-auto p-0 bg-transparent gap-12 mb-12",children:[e.jsx(B,{value:"description",className:"rounded-none border-b-2 border-transparent data-[state=active]:border-gold data-[state=active]:text-coffee-dark px-0 py-3 uppercase tracking-widest text-xs font-bold text-gray-400 bg-transparent shadow-none hover:text-coffee transition-colors",children:s("description")}),e.jsxs(B,{value:"reviews",className:"rounded-none border-b-2 border-transparent data-[state=active]:border-gold data-[state=active]:text-coffee-dark px-0 py-3 uppercase tracking-widest text-xs font-bold text-gray-400 bg-transparent shadow-none hover:text-coffee transition-colors",children:[s("reviews")," (",w.length,")"]})]}),e.jsxs(K,{value:"description",className:"text-center text-gray-600 font-light leading-relaxed max-w-2xl mx-auto",children:[e.jsx("p",{className:"mb-6",children:"Our Royal Sidr Honey is not just food; it is a medicine, a luxury, and a piece of history. Harvested from the ancient Sidr trees in the protected Do'an valleys, this honey is monochromatic, meaning the bees only fed on the nectar of the Sidr flower."}),e.jsx("p",{children:"Sourced directly from certified beekeepers in Hadramout, Yemen. We ensure that traditional methods are respected to bring you 100% raw, unfiltered honey."})]}),e.jsx(K,{value:"reviews",className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:e.jsxs("div",{className:"space-y-12",children:[localStorage.getItem("token")?e.jsxs("div",{className:"bg-[#F9F7F5] p-8 rounded-xl shadow-inner",children:[e.jsx("h3",{className:"font-serif font-bold text-xl text-coffee-dark mb-6 text-center",children:s("write_review")}),e.jsxs("div",{className:"max-w-xl mx-auto space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("label",{className:"block text-xs uppercase tracking-widest text-gray-500 font-bold mb-3",children:s("rating")}),e.jsx("div",{className:"flex justify-center gap-2",children:[1,2,3,4,5].map(n=>e.jsx("button",{onClick:()=>m({...g,rating:n}),className:`${g.rating>=n?"text-gold":"text-gray-300"} transition-all hover:scale-110`,children:e.jsx(U,{fill:g.rating>=n?"currentColor":"none",size:32})},n))})]}),e.jsx("div",{children:e.jsx("textarea",{className:"w-full bg-white border-0 ring-1 ring-gray-200 p-4 min-h-[120px] text-sm focus:ring-gold rounded-lg shadow-sm",placeholder:s("share_experience"),value:g.comment,onChange:n=>m({...g,comment:n.target.value})})}),e.jsx($,{onClick:v,className:"w-full bg-coffee-dark text-white uppercase tracking-widest font-bold text-xs h-12 rounded-lg hover:bg-gold transition-colors",disabled:p,children:s(p?"submitting":"post_review")})]})]}):e.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-xl border border-dashed border-gray-300",children:[e.jsx("p",{className:"text-gray-500 mb-4",children:s("login_to_review")}),e.jsx($,{onClick:()=>r("/login"),variant:"outline",className:"border-gold text-gold hover:bg-gold hover:text-white uppercase tracking-widest text-xs font-bold px-8",children:s("login")})]}),e.jsx("div",{className:"max-w-2xl mx-auto space-y-10",children:w.length>0?w.map(n=>e.jsxs("div",{className:"border-b border-gray-100 pb-8 last:border-0",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-coffee text-white flex items-center justify-center font-serif font-bold text-lg",children:n.customers?.first_name?.[0]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-bold text-coffee-dark capitalize",children:[n.customers?.first_name," ",n.customers?.last_name]}),e.jsx("div",{className:"flex text-gold text-[10px] gap-0.5",children:[...Array(5)].map((N,R)=>e.jsx(U,{size:10,fill:R<n.rating?"currentColor":"none",className:R<n.rating?"text-gold":"text-gray-200"},R))})]})]}),e.jsx("span",{className:"text-xs text-gray-400 font-mono",children:new Date(n.created_at).toLocaleDateString()})]}),e.jsxs("p",{className:"text-gray-600 text-sm leading-relaxed pl-14 italic",children:['"',n.comment,'"']})]},n.id)):e.jsx("p",{className:"text-gray-500 italic text-center py-8",children:s("no_reviews")})})]})})]})})]})]})]})};export{At as default};
