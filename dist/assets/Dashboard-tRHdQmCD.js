import{r as a,j as e,a as d}from"./index-CXRzGYYB.js";import{c as m}from"./createLucideIcon-DYHEWQHk.js";import{P as x}from"./package-0Pb3TpbO.js";const N=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],k=m("dollar-sign",N);const P=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],R=m("shopping-cart",P),D=()=>{const[t,o]=a.useState({totalRevenue:0,totalOrders:0,pendingOrders:0,totalProducts:0}),[n,c]=a.useState(!0);return a.useEffect(()=>{},[]),a.useEffect(()=>{(async()=>{try{const s="https://api.yemenimarket.fr/",g={headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}},[l,u,h]=await Promise.all([d.get(`${s}/api/admin/orders`,g),d.get(`${s}/api/products`),d.get(`${s}/api/admin/customers`,g)]),p=l.data.length,j=l.data.filter(i=>i.status==="pending").length,b=l.data.reduce((i,v)=>i+v.totalPrice,0),f=u.data.length,y=h.data.length;o({totalRevenue:b,totalOrders:p,pendingOrders:j,totalProducts:f,totalCustomers:y})}catch(s){console.error(s)}finally{c(!1)}})()},[]),n?e.jsx("div",{children:"Loading stats..."}):e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-8",children:"Dashboard Overview"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx(r,{title:"Total Revenue",value:`$${Number(t.totalRevenue).toLocaleString()}`,icon:e.jsx(k,{className:"text-green-600",size:24}),bg:"bg-green-100"}),e.jsx(r,{title:"Total Orders",value:t.totalOrders,icon:e.jsx(R,{className:"text-blue-600",size:24}),bg:"bg-blue-100"}),e.jsx(r,{title:"Pending Orders",value:t.pendingOrders,icon:e.jsx(x,{className:"text-orange-600",size:24}),bg:"bg-orange-100"}),e.jsx(r,{title:"Products",value:t.totalProducts,icon:e.jsx(x,{className:"text-purple-600",size:24}),bg:"bg-purple-100"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-bold mb-4",children:"Recent Activity"}),e.jsx("p",{className:"text-gray-500",children:"No recent activity log implemented yet."})]})]})},r=({title:t,value:o,icon:n,bg:c})=>e.jsxs("div",{className:"bg-white rounded-lg shadow p-6 flex items-center",children:[e.jsx("div",{className:`p-4 rounded-full ${c} mr-4`,children:n}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 font-medium",children:t}),e.jsx("p",{className:"text-2xl font-bold text-gray-800",children:o})]})]});export{D as default};
