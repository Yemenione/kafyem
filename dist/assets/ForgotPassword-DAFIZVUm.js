import{u,r as o,j as e,B as x,L as h}from"./index-CXRzGYYB.js";import{N as g}from"./Navbar-BQicr_yf.js";import{I as j}from"./input-DmEUPcbP.js";import"./createLucideIcon-DYHEWQHk.js";import"./shopping-bag-BIvf1kpX.js";import"./trash-2-BPVosxM9.js";import"./search-ghY-3tdw.js";const S=()=>{const{t:s}=u(),[n,d]=o.useState(""),[t,r]=o.useState("idle"),[m,i]=o.useState(""),f=async a=>{a.preventDefault(),r("loading");try{const c=await fetch("https://api.yemenimarket.fr//api/auth/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n})});if(!c.ok){const p=await c.json();throw new Error(p.message||"Failed to send reset link")}r("success"),i(s("forgot_password_success"))}catch(l){console.error(l),r("error"),i(s("forgot_password_error"))}};return e.jsxs("div",{className:"min-h-screen bg-white font-sans",children:[e.jsx(g,{}),e.jsx("div",{className:"flex items-center justify-center py-20 px-4",children:e.jsxs("div",{className:"w-full max-w-md space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-3xl font-serif font-bold text-coffee-dark",children:s("reset_password")}),e.jsx("p",{className:"mt-2 text-gray-600",children:s("reset_desc")})]}),t==="success"?e.jsx("div",{className:"bg-green-50 p-4 rounded text-green-800 text-center",children:m}):e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:f,children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"sr-only",children:s("email_address")}),e.jsx(j,{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-coffee focus:border-coffee sm:text-sm",placeholder:s("email_address"),value:n,onChange:a=>d(a.target.value)})]}),e.jsx("div",{children:e.jsx(x,{type:"submit",disabled:t==="loading",className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium text-white bg-coffee hover:bg-coffee-dark focus:outline-none transition-colors",children:s(t==="loading"?"processing":"send_reset_link")})})]}),e.jsx("div",{className:"text-center mt-4",children:e.jsx(h,{to:"/login",className:"font-medium text-gold hover:text-coffee-dark transition-colors",children:s("back_to_login")})})]})})]})};export{S as default};
